# Servir HTTPS local con dominio personalizado y por IP con proxy hacia Flask

# Reemplaza taller.local con tu dominio local elegido
{
	# Opcional: logging, acme ca local, etc.
}

taller.local:443 {
	encode gzip
	# Cargar certificados locales generados con mkcert
	tls /etc/ssl/custom/taller.local.pem /etc/ssl/custom/taller.local-key.pem
	reverse_proxy web:5000
}

taller.local:80 {
	redir https://taller.local{uri}
}

# Servir tambi√©n por IP local (ajusta la IP si cambia)
192.168.18.12:443 {
	encode gzip
	tls /etc/ssl/custom/taller.local.pem /etc/ssl/custom/taller.local-key.pem
	reverse_proxy web:5000
}

192.168.18.12:80 {
	redir https://192.168.18.12{uri}
}
